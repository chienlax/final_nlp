# =============================================================================
# Vietnamese-English Code-Switching Speech Translation Pipeline
# Environment Configuration File
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!


# =============================================================================
# PostgreSQL Database
# =============================================================================
# Connection string format: postgresql://user:password@host:port/database
# Change the password for production!
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/speech_translation_db

# Database name (used by init scripts)
POSTGRES_DB=speech_translation_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432


# =============================================================================
# Data Storage
# =============================================================================
# Root directory for all data files (raw audio, chunks, exports)
# Can be relative (./data) or absolute (C:/data/speech_translation)
DATA_ROOT=./data


# =============================================================================
# Gemini API Keys (REQUIRED for AI transcription)
# =============================================================================
# Get your keys from: https://aistudio.google.com/app/apikey
#
# Option 1: Comma-separated list (recommended for key rotation)
GEMINI_API_KEYS=your_key_1,your_key_2,your_key_3

# Option 2: Numbered keys (used if GEMINI_API_KEYS is empty)
# GEMINI_API_KEY_1=your_key_here
# GEMINI_API_KEY_2=your_key_here
# GEMINI_API_KEY_3=your_key_here

# Option 3: Single key (fallback if above are empty)
# GEMINI_API_KEY=your_key_here


# =============================================================================
# Backend Server Configuration
# =============================================================================
# FastAPI backend port
BACKEND_PORT=8000
BACKEND_HOST=localhost

# Full API base URL (used by ingestion GUI)
API_BASE=http://localhost:8000/api

# CORS allowed origins (comma-separated)
# Add your frontend URLs here
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173


# =============================================================================
# Frontend Configuration
# =============================================================================
# React/Vite dev server port
FRONTEND_PORT=5173

# API URL for frontend (proxied via Vite in dev, direct in prod)
VITE_API_URL=http://localhost:8000


# =============================================================================
# Processing Configuration
# =============================================================================
# Gemini model for transcription
GEMINI_MODEL=gemini-2.0-flash

# FFmpeg audio settings
CHUNK_DURATION_SECONDS=300
CHUNK_OVERLAP_SECONDS=5
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1

# DeepFilterNet model (df2 = balanced, df3 = highest quality)
DEEPFILTER_MODEL=df3


# =============================================================================
# Concurrency Control
# =============================================================================
# Chunk lock duration in minutes (prevents concurrent edits)
LOCK_DURATION_MINUTES=30
