<!--
Label Studio Template: Transcript Review (Round 1)
Task: Review and correct YouTube transcripts for Vietnamese-English code-switched audio

Pipeline Stage: RAW â†’ TRANSCRIPT_REVIEW â†’ TRANSCRIPT_VERIFIED

Interface:
- Full video audio player with waveform
- Editable text area with raw transcript (manual or auto-generated)
- Subtitle type indicator
- Quality flags and confidence rating

Schema Version: 3.0
-->
<View>
  <Header value="ðŸ“ Transcript Review (Round 1)"/>
  
  <!-- Metadata Display -->
  <View style="display: flex; gap: 20px; margin-bottom: 15px; padding: 10px; background: #e8f4f8; border-radius: 8px;">
    <View>
      <Header value="Video ID" size="5"/>
      <Text name="video_id_display" value="$external_id"/>
    </View>
    <View>
      <Header value="Duration" size="5"/>
      <Text name="duration_display" value="$duration_seconds"/>
    </View>
    <View>
      <Header value="Subtitle Type" size="5"/>
      <Text name="subtitle_type_display" value="$subtitle_type"/>
    </View>
  </View>
  
  <!-- Subtitle Type Warning -->
  <View style="background: #fff3cd; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
    <Header value="âš ï¸ Subtitle Type" size="4"/>
    <Text name="subtitle_warning" value="Check if this is MANUAL (human-created) or AUTO-GENERATED subtitles. Auto-generated may have more errors."/>
  </View>
  
  <!-- Audio Player with Waveform -->
  <View style="padding: 10px; background: #f5f5f5; border-radius: 8px; margin-bottom: 15px;">
    <Header value="ðŸŽ§ Audio" size="4"/>
    <Audio name="audio" value="$audio" hotkey="space"/>
  </View>
  
  <!-- Instructions -->
  <View style="background: #d4edda; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
    <Header value="ðŸ“‹ Instructions" size="4"/>
    <Text name="instructions" value="Listen to the audio and correct the transcript. Focus on:"/>
    <View style="margin-left: 20px;">
      <Text name="inst_1" value="âœ… Correct Vietnamese spelling with proper diacritics (Ä‘, Äƒ, Ãª, Æ¡, Æ°, etc.)"/>
      <Text name="inst_2" value="âœ… Correct English words and phrases"/>
      <Text name="inst_3" value="âœ… Fix code-switching boundaries"/>
      <Text name="inst_4" value="âœ… Remove auto-caption artifacts [Music], [Applause], etc."/>
      <Text name="inst_5" value="âœ… Keep natural speech markers (um, uh, Ã , á») if meaningful"/>
    </View>
  </View>
  
  <!-- Original Transcript (Read-only reference) -->
  <View style="margin-bottom: 15px;">
    <Header value="ðŸ“„ Original Transcript (Reference)" size="4"/>
    <View style="background: #f0f0f0; padding: 10px; border-radius: 4px; font-family: monospace; max-height: 200px; overflow-y: auto;">
      <Text name="original_text" value="$transcript_text"/>
    </View>
  </View>
  
  <!-- Corrected Transcript Input -->
  <View style="margin-bottom: 15px;">
    <Header value="âœï¸ Corrected Transcript" size="4"/>
    <TextArea name="corrected_transcript" 
              toName="audio" 
              value="$transcript_text"
              rows="8"
              placeholder="Enter corrected transcript here..."
              maxSubmissions="1"
              editable="true"/>
  </View>
  
  <!-- Quality Assessment -->
  <View style="margin-bottom: 15px;">
    <Header value="ðŸ·ï¸ Quality Flags" size="4"/>
    <Choices name="quality_flags" toName="audio" choice="multiple">
      <Choice value="audio_quality_poor" hint="Background noise, unclear speech"/>
      <Choice value="heavy_code_switching" hint="Frequent language switching"/>
      <Choice value="unclear_speech" hint="Mumbling, fast speech, overlapping"/>
      <Choice value="multiple_speakers" hint="More than one speaker"/>
      <Choice value="technical_content" hint="Technical terms, jargon"/>
      <Choice value="reject_sample" hint="Unusable - should be rejected"/>
    </Choices>
  </View>
  
  <!-- Confidence Rating -->
  <View style="margin-bottom: 15px;">
    <Header value="â­ Confidence in Correction" size="4"/>
    <Rating name="confidence" toName="audio" maxRating="5" icon="star" size="medium"/>
  </View>
  
  <!-- Notes -->
  <View>
    <Header value="ðŸ“ Additional Notes (Optional)" size="4"/>
    <TextArea name="notes" 
              toName="audio"
              rows="2"
              placeholder="Any issues or notes about this sample..."/>
  </View>
</View>
