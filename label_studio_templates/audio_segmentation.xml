<!--
Label Studio Template: Audio Segmentation
Task: Mark and label audio regions for Vietnamese-English code-switching segments

Interface:
- Audio player with waveform
- Region selection for segment boundaries
- Labels for each segment (language, speaker, quality)
-->
<View>
  <Header value="Audio Segmentation Task"/>
  
  <!-- Metadata Display -->
  <View style="display: flex; gap: 20px; margin-bottom: 15px; padding: 10px; background: #e8f4f8; border-radius: 8px;">
    <View>
      <Header value="Sample ID" size="5"/>
      <Text name="sample_id_display" value="$sample_id"/>
    </View>
  </View>
  
  <!-- Instructions -->
  <View style="background: #fff3cd; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
    <Header value="Instructions" size="4"/>
    <Text name="instructions" value="Segment the audio into meaningful units. For each segment:"/>
    <View style="margin-left: 20px;">
      <Text value="1. Click and drag on the waveform to create a region"/>
      <Text value="2. Select the primary language for that segment"/>
      <Text value="3. Mark code-switching boundaries"/>
      <Text value="4. Note any audio quality issues"/>
    </View>
  </View>
  
  <!-- Audio Player with Labels -->
  <View style="padding: 15px; background: #f5f5f5; border-radius: 8px; margin-bottom: 15px;">
    <Labels name="segment_labels" toName="audio" choice="single">
      <Label value="Vietnamese" background="#28a745"/>
      <Label value="English" background="#007bff"/>
      <Label value="Code-Switched" background="#ffc107"/>
      <Label value="Silence" background="#6c757d"/>
      <Label value="Noise/Unclear" background="#dc3545"/>
    </Labels>
    
    <Audio name="audio" value="$audio" zoom="true" regionBg="#ff0000" regionOpacity="0.3"/>
  </View>
  
  <!-- Reference Transcript -->
  <View style="margin-bottom: 15px;">
    <Header value="Reference Transcript" size="4"/>
    <View style="background: #f0f0f0; padding: 10px; border-radius: 4px;">
      <Text name="transcript_reference" value="$text"/>
    </View>
  </View>
  
  <!-- Segment-level Labels -->
  <View style="margin-bottom: 15px;">
    <Header value="Segment Quality Tags (for selected region)" size="4"/>
    <Choices name="segment_quality" toName="audio" choice="multiple" perRegion="true">
      <Choice value="clear_speech"/>
      <Choice value="background_noise"/>
      <Choice value="overlapping_speech"/>
      <Choice value="music"/>
      <Choice value="intra_sentential_cs" hint="Code-switch within sentence"/>
      <Choice value="inter_sentential_cs" hint="Code-switch between sentences"/>
    </Choices>
  </View>
  
  <!-- Overall Audio Quality -->
  <View style="margin-bottom: 15px;">
    <Header value="Overall Audio Quality" size="4"/>
    <Choices name="overall_quality" toName="audio" choice="single">
      <Choice value="excellent" hint="Clear speech, no noise"/>
      <Choice value="good" hint="Minor background noise"/>
      <Choice value="fair" hint="Noticeable noise but understandable"/>
      <Choice value="poor" hint="Significant noise, hard to understand"/>
      <Choice value="unusable" hint="Cannot transcribe reliably"/>
    </Choices>
  </View>
  
  <!-- Notes -->
  <View>
    <Header value="Segmentation Notes (Optional)" size="4"/>
    <TextArea name="notes" 
              toName="audio"
              rows="2"
              placeholder="Any notes about the segmentation..."/>
  </View>
</View>
